# OpenProfilingAgent Environment Configuration
# Copy this file to .env and adjust values as needed

# ============================================
# ClickHouse Configuration
# ============================================
CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_DATABASE=opa
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# ============================================
# Agent Configuration
# ============================================
SOCKET_PATH=/var/run/opa.sock
AGENT_METRICS_PORT=2112
AGENT_API_PORT=8080
AGENT_BATCH_SIZE=100
AGENT_BATCH_INTERVAL_MS=1000
AGENT_SAMPLING_RATE=1.0
AGENT_MAX_QUEUE_SIZE=50000

# ============================================
# PHP Extension Configuration
# ============================================
OPA_ENABLED=1
OPA_SOCKET_PATH=/var/run/opa.sock
OPA_SAMPLING_RATE=1.0
OPA_FULL_CAPTURE_THRESHOLD_MS=100
OPA_STACK_DEPTH=20
OPA_BUFFER_SIZE=65536
OPA_COLLECT_INTERNAL_FUNCTIONS=1
OPA_DEBUG_LOG=0

# ============================================
# Dashboard Configuration
# ============================================
VITE_API_URL=
DASHBOARD_PORT=3000

# ============================================
# Multi-Tenant Configuration
# ============================================
MULTI_TENANT_ENABLED=0
DEFAULT_TENANT_ID=default

# ============================================
# Authentication Configuration
# ============================================
AUTH_ENABLED=0
AUTH_SECRET_KEY=change-this-secret-key-in-production
AUTH_SESSION_TIMEOUT=3600

# ============================================
# Database Configuration (for test apps)
# ============================================
DATABASE_URL=mysql://root:password@mysql:3306/opa_test?serverVersion=8.0&charset=utf8mb4
MYSQL_ROOT_PASSWORD=password
MYSQL_DATABASE=opa_test

# ============================================
# Redis Configuration
# ============================================
REDIS_URL=redis://redis:6379

# ============================================
# Timezone
# ============================================
TZ=Europe/Paris

# ============================================
# Prometheus Configuration
# ============================================
PROMETHEUS_PORT=9090

# ============================================
# Web Server Configuration
# ============================================
WEB_PORT=8088
NGINX_SYMFONY_PORT=8089

# ============================================
# PHP-FPM Configuration
# ============================================
PHP_FPM_PORT=9000
PHP_VERSION=8.4

